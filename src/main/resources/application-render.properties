# =================== CONFIGURATION RENDER ===================

server.port=${PORT:10000}
server.address=0.0.0.0

# --- Base de données ---
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update

# --- CORS ---
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:https://pneufront.vercel.app,http://localhost:4200}

# --- JWT ---
app.jwt.secret=${JWT_SECRET}
app.jwt.expiration=86400000

# --- Email (Brevo) ---
app.mail.provider=${APP_MAIL_PROVIDER:brevo}
app.mail.from=${APP_MAIL_FROM:contact@pneumali.ml}
app.mail.brevo.api-key=${BREVO_API_KEY}

# --- OAuth2 Google ---
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri=${APP_BASE_URL:https://pneumback.onrender.com}/api/auth/oauth2/callback/google

# --- URLs ---
app.base-url=${APP_BASE_URL:https://pneumback.onrender.com}
app.frontend-url=${APP_FRONTEND_URL:https://pneufront.vercel.app}

# --- Optimisation mémoire ---
server.tomcat.threads.max=20
server.tomcat.threads.min-spare=2
server.tomcat.max-connections=100
server.tomcat.accept-count=10
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# --- Désactivation des métriques inutiles ---
spring.jmx.enabled=false
management.metrics.enable.jvm=false
management.metrics.enable.process=false
management.metrics.enable.system=false
management.endpoints.web.exposure.include=health

# --- Logging ---
logging.level.root=ERROR
logging.level.com.pneumaliback=INFO
