# Configuration spécifique Render (très faible mémoire)
server.tomcat.threads.max=20
server.tomcat.threads.min-spare=2
server.tomcat.max-connections=100
server.tomcat.accept-count=10

# Compression pour réduire la mémoire
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

# Désactiver les fonctionnalités inutiles
spring.jmx.enabled=false
management.metrics.enable.jvm=false
management.metrics.enable.process=false
management.metrics.enable.system=false

# Logging minimal
logging.level.root=ERROR
logging.level.com.pneumaliback=INFO

# CORS - Origines autorisées (Vercel)
app.cors.allowed-origins=${APP_CORS_ALLOWED_ORIGINS:https://pneufront.vercel.app,http://localhost:4200}

# Email via Brevo (API HTTP moderne et fiable)
# Brevo offre 300 emails gratuits/jour, parfait pour l'authentification
# Configurez BREVO_API_KEY dans Rendera pour activer l'envoi réel d'emails
app.mail.provider=${APP_MAIL_PROVIDER:brevo}

# OAuth2 Configuration (Google)
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
app.base-url=${APP_BASE_URL:https://pneumback.onrender.com}
app.frontend-url=${APP_FRONTEND_URL:https://pneufront.vercel.app}

